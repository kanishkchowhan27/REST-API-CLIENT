import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.net.HttpURLConnection;
import java.net.URL;
import java.util.Scanner;

import org.json.JSONObject;

public class HttpJsonParser {

    public static void main(String[] args) {

        Scanner sc = new Scanner(System.in);
        System.out.print("Enter User ID (1-10): ");
        int userId = sc.nextInt();

        try {
            // API URL
            String apiUrl = "https://jsonplaceholder.typicode.com/users/" + userId;

            URL url = new URL(apiUrl);
            HttpURLConnection con = (HttpURLConnection) url.openConnection();
            con.setRequestMethod("GET");

            // Read response
            BufferedReader br = new BufferedReader(
                    new InputStreamReader(con.getInputStream()));

            String line;
            StringBuilder response = new StringBuilder();

            while ((line = br.readLine()) != null) {
                response.append(line);
            }
            br.close();

            // Parse JSON response
            JSONObject json = new JSONObject(response.toString());

            String name = json.getString("name");
            String username = json.getString("username");
            String email = json.getString("email");
            String city = json.getJSONObject("address").getString("city");
            String company = json.getJSONObject("company").getString("name");

            // Display output
            System.out.println("\n--- User Information ---");
            System.out.println("Name       : " + name);
            System.out.println("Username   : " + username);
            System.out.println("Email      : " + email);
            System.out.println("City       : " + city);
            System.out.println("Company    : " + company);

        } catch (Exception e) {
            System.out.println("Error occurred while fetching data!");
        }

        sc.close();
    }
}
